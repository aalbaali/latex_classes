\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{amro-common}
\RequirePackage{decar-common}
\RequirePackage{decar-dynamics}
\RequirePackage{decar-lie}
\RequirePackage{decar-post}
\RequirePackage{amsmath,amsthm}



%%% Packages
\usepackage{float}
\usepackage{enumitem}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{lipsum}
\usepackage{{tikz}}
\usepackage{pdfpages}
\usepackage[normalem]{ulem}

\RequirePackage{bbm} % Allos the use of \mathbbm for math mode

% Box environments
\definecolor{myBlueColor}{rgb}{0.122, 0.435, 0.698}
\definecolor{myGreyColor}{rgb}{0.5, 0.5, 0.5}
\newmdenv[innerlinewidth=0.5pt, roundcorner=4pt,linecolor=myBlueColor, innerleftmargin=6pt,
innerrightmargin=6pt,innertopmargin=6pt,innerbottommargin=6pt]{myBlueBox_0}
\newmdenv[innerlinewidth=0.5pt, roundcorner=4pt,linecolor=black, innerleftmargin=6pt,
innerrightmargin=6pt,innertopmargin=6pt,innerbottommargin=6pt]{myBlackBox_0}
\newmdenv[innerlinewidth=0.5pt, roundcorner=4pt,linecolor=myGreyColor,innerleftmargin=6pt,
innerrightmargin=6pt,innertopmargin=6pt,innerbottommargin=6pt]{myGreyBox_0}
\newenvironment{myBlackBox}
    {
    \vspace{1em}
    \begin{myBlackBox_0}
    }
    {\end{myBlackBox_0}}
\newenvironment{myBlueBox}
    {
    \vspace{1em}
    \begin{myBlueBox_0}
    }
    {\end{myBlueBox_0}}
\newenvironment{myGreyBox}
    {
    \vspace{1em}
    \begin{myGreyBox_0}
    }
    {\end{myGreyBox_0}}
\usepackage{tcolorbox}

\newtcolorbox{myBlueBoxShaded}{colback=myBlueColor,colframe=black}

\newenvironment{mydefinition}[1][\unskip]{
    \begin{myBlackBox}
\begin{definition}[\emph{#1}]}{\end{definition}\end{myBlackBox}}

\newenvironment{myremark}{
    \begin{myBlueBox}
\begin{remark}}{\end{remark}\end{myBlueBox}}

\newenvironment{mytheorem}{
    \begin{myBlackBox}
\begin{theorem}}{\end{theorem}\end{myBlackBox}}

\newenvironment{myproposition}{
    \begin{myBlackBox}
\begin{proposition}}{\end{proposition}\end{myBlackBox}}

\newenvironment{mylemma}{
    \begin{myBlackBox}
\begin{lemma}}{\end{lemma}\end{myBlackBox}}

\newenvironment{myproperty}{
    \begin{myBlackBox}
\begin{property}}{\end{property}\end{myBlackBox}}

\newenvironment{mytheoremarg}[1][\unskip]{
    \begin{myBlackBox}
\begin{theorem}[\emph{#1}]}{\end{theorem}\end{myBlackBox}}

% Kinematics
\renewcommand{\rframe}[1]{{\ensuremath{\mathcal{F}}_{#1}}}

% Operator that includes ifelse statement
\newcommand{\myoperator}[2]{\ifthenelse{\equal{#2}{}}{}{#1\left(#2\right)}\xspace}

% Optional subscript (to be used with expectation and pdf, etc.)
\newcommand{\optsub}[1]{\ifthenelse{\equal{#1}{}}{}{\ensuremath{_{#1}}}}
% Optional function arguments and return round brackets
\newcommand{\checkArgsRB}[1]{\ifthenelse{\equal{#1}{}}{}{\left(#1\right)}}
% Optional function arguments and return square brackets
\newcommand{\checkArgsSB}[1]{\ifthenelse{\equal{#1}{}}{}{\left[#1\right]}}

%%% Probability
%% Operator symbols
% Probability
\newcommand{\symProb}{\mbb{P}}
% Expectation
\newcommand{\symExpect}{\mbb{E}}
% Variance
\newcommand{\symVar}{\operatorname{Var}}
% Covariance
\newcommand{\symCov}{\operatorname{Cov}}
% PDF
\newcommand{\symPdf}{f}
% CDF
\newcommand{\symCdf}{F}
% PMF
\newcommand{\symPmf}{p}

%% Operators
% Probability
\newcommand{\prob}[1]{\symProb\checkArgsRB{#1}\xspace}
% Expectation
\renewcommand{\expect}[2][{}]{\symExpect\optsub{#1}\checkArgsSB{#2}}
% Variance
% \renewcommand{\var}[1]{\symVar\checkArgsSB{#1}}
\renewcommand{\var}[1]{\symVar\left[#1\right]}
% Covariance
\renewcommand{\cov}[1]{\symCov\checkArgsSB{#1}}
% PDF
\newcommand{\pdf}[2][{}]{\symPdf\optsub{#1}\checkArgsRB{#2}}
% CDF
\newcommand{\cdf}[2][{}]{\symCdf\optsub{#1}\checkArgsRB{#2}}
% PMF
\newcommand{\pmf}[2][{}]{\symPmf\optsub{#1}\checkArgsRB{#2}}

% Gaussian PDF expanded using e^
\newcommand{\gaussian}[3]{e^{-\onehalf\norm{{#1}-{#2}}_{#3}^{2}}\xspace} % 1: Random variable, 2: mean, 3: Covariance
% Gaussian PDF expanded using \exp
\newcommand{\gaussianexp}[3]{\exp\left(-{\onehalf\norm{{#1}-{#2}}_{#3\inv}^{2}}\right)\xspace} % 1: Random variable, 2: mean, 3: Covariance

%% Random variables
\newcommand{\mbfuline}[1]{\underline{\mbf{#1}}}
\newcommand{\mbsuline}[1]{\underline{\mbs{#1}}}
\newcommand{\rv}[1]{\uline{#1}\xspace} % Random variable
\newcommand{\mbfrv}[1]{\mbfuline{#1}} % mbf random variable
\newcommand{\mbfhatrv}[1]{\hat{\mbfrv{#1}}}
\newcommand{\mbfcheckrv}[1]{\check{\mbfrv{#1}}}
\newcommand{\mbsrv}[1]{\mbsuline{#1}} % mbs random variable
\newcommand{\pSet}{\mathcal{P}} % power set
\newcommand{\pCal}{\mathcal{P}} % power set 
\newcommand{\rCal}{\mathcal{R}} % power set 
\newcommand{\fCal}{\mathcal{F}} %F sigma algebra
\newcommand{\comp}{\mathrm{C}} % set complement

% Derivatives
% Total derivative
\newcommand{\td}[2]{\f{\dee #1}{\dee #2}\xspace}

% DCM stuff
\NewDocumentCommand{\dcmtrans}{ O{} }{\mbf{C}_{#1}^{\trans} {\ifthenelse{\equal{#1}{}}{}{\dcmspace}}}
\NewDocumentCommand{\dcmbartrans}{ O{} }{\mbfbar{C}_{#1}^{\trans} {\ifthenelse{\equal{#1}{}}{}{\dcmspace}}}
\newcommand{\Exp}{\operatorname{Exp}}
\newcommand{\Log}{\operatorname{Log}}
% Sectioning
% End of example command
\newcommand\xqed[1]{%
  \leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill
  \quad\hbox{#1}}
\newcommand\triqed{\xqed{$\triangle$}}

% Common
% \newcommand{\mbfbar}[1]{\bar{\mbf{#1}}}
\newcommand{\diag}[1]{\operatorname{diag}\checkArgsRB{#1}\xspace}
\newcommand{\floor}[1]{\left\lfloor#1\right\rfloor}
\newcommand{\mbb}[1]{\mathbb{#1}}
\newcommand{\mbbm}[1]{\mathbbm{#1}}


% Latin shorthands
\renewcommand{\eg}[0]{{\textit{e.g.}\@}\xspace}
\renewcommand{\ie}[0]{{\textit{i.e.}\@}\xspace}